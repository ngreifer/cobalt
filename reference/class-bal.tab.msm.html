<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Using bal.tab() with Longitudinal Treatments — class-bal.tab.msm • cobalt</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using bal.tab() with Longitudinal Treatments — class-bal.tab.msm"><meta name="description" content="When using [bal.tab()] with longitudinal treatments, the output will be different from the case with point treatments, and there are some options that are common across all `bal.tab()` methods for dealing with longitudinal data. This page outlines the outputs and options in this case.

There are two main components of the output of `bal.tab()` with longitudinal treatments: the time-point-specific balance summary and across-time-points balance summary. The time-point-specific balance summaries are standard point treatment balance summaries at each time point.

The across-time-points balance summary is, for each variable, the greatest imbalance across all time-point-specific balance summaries. If the greatest observed imbalance is tolerable, then all other imbalances for that variable will be tolerable too, so focusing on reducing the greatest imbalance is sufficient for reducing imbalance overall. The balance summary will not be computed if multi-category treatments or multiply imputed data are used.
"><meta property="og:description" content="When using [bal.tab()] with longitudinal treatments, the output will be different from the case with point treatments, and there are some options that are common across all `bal.tab()` methods for dealing with longitudinal data. This page outlines the outputs and options in this case.

There are two main components of the output of `bal.tab()` with longitudinal treatments: the time-point-specific balance summary and across-time-points balance summary. The time-point-specific balance summaries are standard point treatment balance summaries at each time point.

The across-time-points balance summary is, for each variable, the greatest imbalance across all time-point-specific balance summaries. If the greatest observed imbalance is tolerable, then all other imbalances for that variable will be tolerable too, so focusing on reducing the greatest imbalance is sufficient for reducing imbalance overall. The balance summary will not be computed if multi-category treatments or multiply imputed data are used.
"><meta property="og:image" content="https://ngreifer.github.io/cobalt/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cobalt</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/cobalt.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/other-packages.html">Using `cobalt` with Other Preprocessing Packages</a></li>
    <li><a class="dropdown-item" href="../articles/segmented-data.html">Using `cobalt` with Clustered, Multiply Imputed, and Other Segmented Data</a></li>
    <li><a class="dropdown-item" href="../articles/longitudinal-treat.html">Using `cobalt` with Longitudinal Treatments</a></li>
    <li><a class="dropdown-item" href="../articles/love.plot.html">Using `love.plot()` To Generate Love Plots</a></li>
    <li><a class="dropdown-item" href="../articles/optimizing-balance.html">Optimizing Tuning Parameters for Balance</a></li>
    <li><a class="dropdown-item" href="../articles/faq.html">Frequently Asked Questions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ngreifer/cobalt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using <code>bal.tab()</code> with Longitudinal Treatments</h1>
      <small class="dont-index">Source: <a href="https://github.com/ngreifer/cobalt/blob/master/R/class-bal.tab.msm.R" class="external-link"><code>R/class-bal.tab.msm.R</code></a></small>
      <div class="d-none name"><code>class-bal.tab.msm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>When using [<span class="fu">bal.tab</span>()] with longitudinal treatments, the output will be different from the case with point treatments, and there are some options that are common across all <span class="st">`</span><span class="at">bal.tab()</span><span class="st">`</span> methods <span class="cf">for</span> dealing with longitudinal data. This page outlines the outputs and options <span class="cf">in</span> this case.</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>There are two main components of the output of <span class="st">`</span><span class="at">bal.tab()</span><span class="st">`</span> with longitudinal treatments<span class="sc">:</span> the time<span class="sc">-</span>point<span class="sc">-</span>specific balance summary and across<span class="sc">-</span>time<span class="sc">-</span>points balance summary. The time<span class="sc">-</span>point<span class="sc">-</span>specific balance summaries are standard point treatment balance summaries at each time point.</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>The across<span class="sc">-</span>time<span class="sc">-</span>points balance summary is, <span class="cf">for</span> each variable, the greatest imbalance across all time<span class="sc">-</span>point<span class="sc">-</span>specific balance summaries. If the greatest observed imbalance is tolerable, then all other imbalances <span class="cf">for</span> that variable will be tolerable too, so focusing on reducing the greatest imbalance is sufficient <span class="cf">for</span> reducing imbalance overall. The balance summary will not be computed <span class="cf">if</span> multi<span class="sc">-</span>category treatments or multiply imputed data are used.</span></code></pre><p></p></div>
    </div>


    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The balance tables presented here are not the same as those recommended by Jackson (2016) and computed in his R package, <a href="https://CRAN.R-project.org/package=confoundr" class="external-link"><span class="pkg">confoundr</span></a>, as these do not take into account treatment history. The balance statistics presented here should be used with caution and may not reflect balance in an accurate way.</p>
    </div>
    <div class="section level2">
    <h2 id="allowable-arguments">Allowable arguments<a class="anchor" aria-label="anchor" href="#allowable-arguments"></a></h2>



<p>There are two additional arguments for each <code><a href="bal.tab.html">bal.tab()</a></code> method that can handle longitudinal treatments: <code>which.time</code> and <code>msm.summary</code>.</p>
<dl><dt><code>which.time</code></dt>
<dd><p>This is a display option that does not affect computation. If <code>.all</code> (the default), all time points will be displayed. If <code>.none</code>, no time points will be displayed. Otherwise, can be a vector of treatment names or indices for which to display balance.</p></dd>

<dt><code>msm.summary</code></dt>
<dd><p>This is a display option that does not affect computation. If <code>TRUE</code>, the balance summary across time points will be displayed. The default is <code>TRUE</code>, and if <code>which.time</code> is <code>.none</code>, it will automatically be set to <code>TRUE</code>.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="output">Output<a class="anchor" aria-label="anchor" href="#output"></a></h2>


<p>The output is a <code>bal.tab.msm</code> object, which inherits from <code>bal.tab</code>. It has the following elements:</p><ul><li><p><code>Time.Balance</code>: For each time point, a regular <code>bal.tab</code> object containing a balance table, a sample size summary, and other balance assessment tools, depending on which options are specified.</p></li>
<li><p><code>Balance.Across.Times</code>: The balance summary across time points. This will include the maximum balance statistic(s) for each covariate across all time points.</p></li>
<li><p><code>Observations</code>: A table of sample sizes or effective sample sizes for each time point before and after adjustment.</p></li>
</ul><p>As with other methods, multiple weights can be specified, and values for all weights will appear in all tables.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Jackson, J. W. (2016). Diagnostics for Confounding of Time-varying and Other Joint Exposures: <em>Epidemiology</em>, 27(6), 859–869. <a href="https://doi.org/10.1097/EDE.0000000000000547" class="external-link">doi:10.1097/EDE.0000000000000547</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="bal.tab.html">bal.tab()</a></code></p></li>
<li><p><code><a href="bal.tab.time.list.html">bal.tab.time.list()</a></code></p></li>
<li><p><code><a href="print.bal.tab.html">print.bal.tab()</a></code></p></li>
<li><p><code><a href="../articles/longitudinal-treat.html">vignette("longitudinal-treat")</a></code> for examples</p></li>
</ul></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noah Greifer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

