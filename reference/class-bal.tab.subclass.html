<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Using bal.tab() with Subclassified Data — class-bal.tab.subclass • cobalt</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using bal.tab() with Subclassified Data — class-bal.tab.subclass"><meta name="description" content='When using bal.tab() with subclassified data, i.e., data split into subclasses where balance may hold, the output will be different from the standard, non-subclassified case, and there is an additional option for controlling display. This page outlines the outputs and options in this case.
There are two main components of the output of bal.tab() with subclassified data: the balance within subclasses and the balance summary across subclasses. The within-subclass balance displays essentially are standard balance displays for each subclass, except that only "adjusted" values are available, because the subclassification itself is the adjustment.
The balance summary is, for each variable, like a weighted average of the balance statistics across subclasses. This is computed internally by assigning each individual a weight based on their subclass and treatment group membership and then computing weighted balance statistics as usual with these weights. This summary is the same one would get if subclasses were supplied to the match.strata argument rather than to subclass. Because the means and mean differences are additive, their computed values will be weighted averages of the subclass-specific values, but for other statistics, the computed values will not be.'><meta property="og:description" content='When using bal.tab() with subclassified data, i.e., data split into subclasses where balance may hold, the output will be different from the standard, non-subclassified case, and there is an additional option for controlling display. This page outlines the outputs and options in this case.
There are two main components of the output of bal.tab() with subclassified data: the balance within subclasses and the balance summary across subclasses. The within-subclass balance displays essentially are standard balance displays for each subclass, except that only "adjusted" values are available, because the subclassification itself is the adjustment.
The balance summary is, for each variable, like a weighted average of the balance statistics across subclasses. This is computed internally by assigning each individual a weight based on their subclass and treatment group membership and then computing weighted balance statistics as usual with these weights. This summary is the same one would get if subclasses were supplied to the match.strata argument rather than to subclass. Because the means and mean differences are additive, their computed values will be weighted averages of the subclass-specific values, but for other statistics, the computed values will not be.'><meta property="og:image" content="https://ngreifer.github.io/cobalt/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cobalt</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.5.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/cobalt.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/other-packages.html">Using `cobalt` with Other Preprocessing Packages</a></li>
    <li><a class="dropdown-item" href="../articles/segmented-data.html">Using `cobalt` with Clustered, Multiply Imputed, and Other Segmented Data</a></li>
    <li><a class="dropdown-item" href="../articles/longitudinal-treat.html">Using `cobalt` with Longitudinal Treatments</a></li>
    <li><a class="dropdown-item" href="../articles/love.plot.html">Using `love.plot()` To Generate Love Plots</a></li>
    <li><a class="dropdown-item" href="../articles/optimizing-balance.html">Optimizing Tuning Parameters for Balance</a></li>
    <li><a class="dropdown-item" href="../articles/faq.html">Frequently Asked Questions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ngreifer/cobalt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using <code>bal.tab()</code> with Subclassified Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/ngreifer/cobalt/blob/master/R/class-bal.tab.subclass.R" class="external-link"><code>R/class-bal.tab.subclass.R</code></a></small>
      <div class="d-none name"><code>class-bal.tab.subclass.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>When using <code><a href="bal.tab.html">bal.tab()</a></code> with subclassified data, i.e., data split into subclasses where balance may hold, the output will be different from the standard, non-subclassified case, and there is an additional option for controlling display. This page outlines the outputs and options in this case.</p>
<p>There are two main components of the output of <code><a href="bal.tab.html">bal.tab()</a></code> with subclassified data: the balance within subclasses and the balance summary across subclasses. The within-subclass balance displays essentially are standard balance displays for each subclass, except that only "adjusted" values are available, because the subclassification itself is the adjustment.</p>
<p>The balance summary is, for each variable, like a weighted average of the balance statistics across subclasses. This is computed internally by assigning each individual a weight based on their subclass and treatment group membership and then computing weighted balance statistics as usual with these weights. This summary is the same one would get if subclasses were supplied to the <code>match.strata</code> argument rather than to <code>subclass</code>. Because the means and mean differences are additive, their computed values will be weighted averages of the subclass-specific values, but for other statistics, the computed values will not be.</p>
    </div>


    <div class="section level2">
    <h2 id="allowable-arguments">Allowable arguments<a class="anchor" aria-label="anchor" href="#allowable-arguments"></a></h2>



<p>There are three arguments for <code><a href="bal.tab.html">bal.tab()</a></code> that relate to subclasses: <code>subclass</code>, <code>which.subclass</code>, and <code>subclass.summary</code>.</p>
<dl><dt><code>subclass</code></dt>
<dd><p>For the <code>data.frame</code> and formula methods of <code><a href="bal.tab.html">bal.tab()</a></code>, a vector of subclass membership or the name of the variable in <code>data</code> containing subclass membership. When using subclassification with a function compatible with <span class="pkg">cobalt</span>, such as <code><a href="https://kosukeimai.github.io/MatchIt/reference/matchit.html" class="external-link">matchit()</a></code> in <span class="pkg">MatchIt</span>, this argument can be omitted because the subclasses are in the output object.</p></dd>

<dt><code>which.subclass</code></dt>
<dd><p>This is a display option that does not affect computation. If <code>.all</code>, all subclasses in <code>subclass</code> will be displayed. If <code>.none</code> (the default), no subclasses will be displayed. Otherwise, can be a vector of subclass indices for which to display balance.</p></dd>

<dt><code>subclass.summary</code></dt>
<dd><p>This is a display option that does not affect computation. If <code>TRUE</code>, the balance summary across subclasses will be displayed. The default is <code>TRUE</code>, and if <code>which.subclass</code> is <code>.none</code>, it will automatically be set to <code>TRUE</code>.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="output">Output<a class="anchor" aria-label="anchor" href="#output"></a></h2>


<p>The output is a <code>bal.tab.subclass</code> object, which inherits from <code>bal.tab</code>. It has the following elements:</p><ul><li><p><code>Subclass.Balance</code>: A list of data frames containing balance information for each covariate in each subclass.</p></li>
<li><p><code>Balance.Across.Subclass</code>: A data frame containing balance statistics for each covariate aggregated across subclasses and for the original sample (i.e., unadjusted). See <code><a href="bal.tab.html">bal.tab()</a></code> for details on what this includes.</p></li>
<li><p><code>Observations</code>: A table of sample sizes in each subclass and overall.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="bal.tab.html">bal.tab()</a></code></p></li>
<li><p><code><a href="bal.tab.formula.html">bal.tab.data.frame()</a></code></p></li>
<li><p><code><a href="print.bal.tab.html">print.bal.tab()</a></code></p></li>
</ul></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Noah Greifer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

